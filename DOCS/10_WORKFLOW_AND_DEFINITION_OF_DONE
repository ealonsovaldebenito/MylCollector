10
# Workflow y Definition of Done (UPGRADED)

## Flujo por feature
1) Clarificar alcance + supuestos (máximo 5 bullets)
2) Contratos (11):
   - inputs/outputs (DTOs)
   - errores estándar
   - permisos (auth/roles/ownership)
3) Modelo SQL (03):
   - tablas afectadas
   - migración + índices + constraints
   - RLS si aplica
4) Implementación en capas (SQL -> backend -> frontend)
5) Validación (04):
   - `rule_id` estable si toca reglas
   - mensajes explicables
6) Tests mínimos (A8):
   - unit + integración
7) Observabilidad (12):
   - request_id / logging
   - audit_log cuando aplique
8) Security review (13):
   - riesgos nuevos
   - rate limit / hardening
9) UX review (A5):
   - estados empty/loading/error
   - fricción mínima

---

## Definition of Done (mínimo)
- Migración SQL lista (si aplica)
- Índices y constraints relevantes incluidos
- API_CONTRACTS (11) actualizado si cambian payloads/endpoints
- UI usable con estados básicos
- Validación server-side y explicable (rule_id + context_json estable)
- Observabilidad mínima (logs con request_id + audit si aplica)
- Tests básicos pasando
- Sin duplicación innecesaria de lógica
- Sin dependencias cíclicas entre módulos

